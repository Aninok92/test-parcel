{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","console","log","galleryItems","cardContainer","document","querySelector","cardsMarkup","createGallaryMarkup","images","map","join","insertAdjacentHTML","addEventListener","onCardContainerClick","lightbox","lightboxImage","e","preventDefault","target","classList","contains","onOpenModal","window","onEscKeyPress","onCarousel","add","src","dataset","source","alt","closeBtn","onCloseModal","removeEventListener","remove","overlay","onBackdropClick","event","currentTarget","code","currentArr","i","currentArrDesc","d","onArrowLeft","onArrowRight","currentImg","indexOf","currentDesc","length","includes"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QAAS,uFACTC,SACE,uFACFC,YAAa,mBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,6BAEf,CACEF,QAAS,wEACTC,SAAU,wEACVC,YAAa,qBAEf,CACEF,QAAS,0EACTC,SAAU,0EACVC,YAAa,iBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,yBAEf,CACEF,QAAS,2EACTC,SAAU,2EACVC,YAAa,yBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,6EACTC,SAAU,6EACVC,YAAa,yBA7CF,QAAA,QAAA;;;;ACoHd,aApHD,IAAA,EAAA,EAAA,QAAA,0BAoHC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnHD,QAAA,oBAEAC,QAAQC,IAAIC,EAAZ,SACA,IAAMC,EAAgBC,SAASC,cAAc,eACvCC,EAAcC,EAAoBL,EAAD,SAGvC,SAASK,EAAoBC,GACpBA,OAAAA,EACJC,IAAI,SAAwC,GAArCZ,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAGTD,MAAAA,2FAAAA,OAAAA,EAEKD,8EAAAA,OAAAA,EACQC,wCAAAA,OAAAA,EACRC,gCAAAA,OAAAA,EANrB,iDAUDW,KAAK,IAfVP,EAAcQ,mBAAmB,YAAaL,GAkB9CH,EAAcS,iBAAiB,QAASC,GACxC,IAAMC,EAAWV,SAASC,cAAc,gBACpCU,EAAgBX,SAASC,cAAc,oBAE3C,SAASQ,EAAqBG,GAC5BA,EAAEC,iBACGD,EAAEE,OAAOC,UAAUC,SAAS,mBAGjCC,EAAYL,GAGd,SAASK,EAAYL,GACnBM,OAAOV,iBAAiB,UAAWW,GACnCD,OAAOV,iBAAiB,UAAWY,GAEnCV,EAASK,UAAUM,IAAI,WAEvBV,EAAcW,IAAMV,EAAEE,OAAOS,QAAQC,OACrCb,EAAcc,IAAMb,EAAEE,OAAOW,IAG/B,IAAMC,EAAW1B,SAASC,cAAc,kCAGxC,SAAS0B,IACPT,OAAOU,oBAAoB,UAAWT,GACtCD,OAAOU,oBAAoB,UAAWR,GAEtCV,EAASK,UAAUc,OAAO,WAE1BlB,EAAcW,IAAM,GACpBX,EAAcc,IAAM,GATtBC,EAASlB,iBAAiB,QAASmB,GAYnC,IAAMG,EAAU9B,SAASC,cAAc,sBAGvC,SAAS8B,EAAgBC,GACnBA,EAAMC,gBAAkBD,EAAMlB,QAChCa,IAIJ,SAASR,EAAca,GACA,WACJA,EAAME,MAGrBP,IAbJG,EAAQtB,iBAAiB,QAASuB,GAiBlC,IAAMI,EAAarC,EAAaO,QAAAA,IAAI,SAAA+B,GAAKA,OAAAA,EAAE1C,WACrC2C,EAAiBvC,EAAaO,QAAAA,IAAI,SAAAiC,GAAKA,OAAAA,EAAE3C,cAE/C,SAASyB,EAAWR,GAClBhB,QAAQC,IAAIe,EAAEsB,MACA,aAAVtB,EAAEsB,MAAiC,cAAVtB,EAAEsB,OAGjB,aAAVtB,EAAEsB,MACJK,IAEY,cAAV3B,EAAEsB,MACJM,KAIJ,SAASD,IACHE,IAAAA,EAAaN,EAAWO,QAAQ/B,EAAcW,KAC9CqB,EAAcN,EAAeK,QAAQ/B,EAAcc,KAEvDd,EAAcW,IAAMa,EAAWM,EAAa,GAC5C9B,EAAcc,IAAMY,EAAeM,EAAc,GAE9B,IAAfF,IACF9B,EAAcW,IAAMa,EAAWA,EAAWS,OAAS,GACnDjC,EAAcc,IAAMY,EAAeA,EAAeO,OAAS,IAI/D,SAASJ,IACHC,IAAAA,EAAaN,EAAWO,QAAQ/B,EAAcW,KAC9CqB,EAAcN,EAAeK,QAAQ/B,EAAcc,KAEvDd,EAAcW,IAAMa,EAAWM,EAAa,GAC5C9B,EAAcc,IAAMY,EAAeM,EAAc,GAC5CR,EAAWU,SAASlC,EAAcW,OACrCX,EAAcW,IAAMa,EAAW,GAC/BxB,EAAcc,IAAMY,EAAe","file":"src.a3ea2166.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","import galleryItems from './js/gallery-items.js';\nimport './sass/main.scss';\n\nconsole.log(galleryItems);\nconst cardContainer = document.querySelector('.js-gallery');\nconst cardsMarkup = createGallaryMarkup(galleryItems);\ncardContainer.insertAdjacentHTML('beforeend', cardsMarkup);\n\nfunction createGallaryMarkup(images) {\n  return images\n    .map(({ preview, original, description }) => {\n      return `<li class=\"gallery__item\">\n              <a class=\"gallery__link\"\n              href=\"${original}\">\n                <img class=\"gallery__image\"\n                    src=\"${preview}\"\n                    data-source=\"${original}\"\n                    alt=\"${description}\" />\n              </a>\n            </li>`;\n    })\n    .join('');\n}\n\ncardContainer.addEventListener('click', onCardContainerClick);\nconst lightbox = document.querySelector('.js-lightbox');\nlet lightboxImage = document.querySelector('.lightbox__image');\n\nfunction onCardContainerClick(e) {\n  e.preventDefault();\n  if (!e.target.classList.contains('gallery__image')) {\n    return;\n  }\n  onOpenModal(e);\n}\n\nfunction onOpenModal(e) {\n  window.addEventListener('keydown', onEscKeyPress);\n  window.addEventListener('keydown', onCarousel);\n\n  lightbox.classList.add('is-open');\n\n  lightboxImage.src = e.target.dataset.source;\n  lightboxImage.alt = e.target.alt;\n}\n\nconst closeBtn = document.querySelector('[data-action=\"close-lightbox\"]');\ncloseBtn.addEventListener('click', onCloseModal);\n\nfunction onCloseModal() {\n  window.removeEventListener('keydown', onEscKeyPress);\n  window.removeEventListener('keydown', onCarousel);\n\n  lightbox.classList.remove('is-open');\n\n  lightboxImage.src = '';\n  lightboxImage.alt = '';\n}\n\nconst overlay = document.querySelector('.lightbox__overlay');\noverlay.addEventListener('click', onBackdropClick);\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(event) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = event.code === ESC_KEY_CODE;\n\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n\nconst currentArr = galleryItems.map(i => i.original);\nconst currentArrDesc = galleryItems.map(d => d.description);\n\nfunction onCarousel(e) {\n  console.log(e.code);\n  if (e.code != 'ArrowLeft' && e.code != 'ArrowRight') {\n    return;\n  }\n  if (e.code == 'ArrowLeft') {\n    onArrowLeft();\n  }\n  if (e.code == 'ArrowRight') {\n    onArrowRight();\n  }\n}\n\nfunction onArrowLeft() {\n  let currentImg = currentArr.indexOf(lightboxImage.src);\n  let currentDesc = currentArrDesc.indexOf(lightboxImage.alt);\n\n  lightboxImage.src = currentArr[currentImg - 1];\n  lightboxImage.alt = currentArrDesc[currentDesc - 1];\n\n  if (currentImg === 0) {\n    lightboxImage.src = currentArr[currentArr.length - 1];\n    lightboxImage.alt = currentArrDesc[currentArrDesc.length - 1];\n  }\n}\n\nfunction onArrowRight() {\n  let currentImg = currentArr.indexOf(lightboxImage.src);\n  let currentDesc = currentArrDesc.indexOf(lightboxImage.alt);\n\n  lightboxImage.src = currentArr[currentImg + 1];\n  lightboxImage.alt = currentArrDesc[currentDesc + 1];\n  if (!currentArr.includes(lightboxImage.src)) {\n    lightboxImage.src = currentArr[0];\n    lightboxImage.alt = currentArrDesc[0];\n  }\n}\n"]}